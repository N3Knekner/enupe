{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\(Unknown)\\\\Desktop\\\\Node\\\\ENUPE\\\\frontend\\\\enupe\\\\enupe\\\\src\\\\components\\\\signIn\\\\index.js\";\nimport React from 'react';\nimport Axios from \"../../api.js\";\nimport ModalAlert from '../modalAlert';\nimport AntiSpam from '../../classes/AntiSpam.js';\nimport VerifyExistence from '../../classes/VerifyExistence.js';\nimport AuthRouting from '../../classes/AuthRouting.js';\nimport Tip from '../tip';\nimport { Link } from 'react-router-dom';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super();\n    this.alertTexts = [/*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 14\n      }\n    }, \"ATEN\\xC7\\xC3O!\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 30\n      }\n    }), \" Segundo os dados j\\xE1 coletados voc\\xEA \\xE9 \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 74\n      }\n    }, \"ESTUDANTE\"), \", continue o cadastro \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-blue-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 112\n      }\n    }, \"Confirmando\"), \". \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 164\n      }\n    }), \" Caso voc\\xEA seja respons\\xE1vel clique em \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 208\n      }\n    }, \"Cancelar\"), \" e prossiga criando a conta do aluno antes de voltar a cadastrar-se.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 14\n      }\n    }, \"ATEN\\xC7\\xC3O!\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 30\n      }\n    }), \" Segundo os dados j\\xE1 coletados voc\\xEA \\xE9 \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 74\n      }\n    }, \"RESPONS\\xC1VEL\"), \", continue o cadastroem \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-blue-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 116\n      }\n    }, \"Confirmando\"), \". \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 168\n      }\n    }), \" Caso voc\\xEA seja aluno aparentemente j\\xE1 existe alguem cadastrado com sua matr\\xEDcula, prossiga \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 266\n      }\n    }, \"Cancelando\"), \" e contate os admnistradores do sistema.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 14\n      }\n    }, \"ATEN\\xC7\\xC3O!\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 30\n      }\n    }), \" Segundo os dados j\\xE1 coletados voc\\xEA \\xE9 \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 74\n      }\n    }, \"SERVIDOR\"), \", continue o cadastro \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-blue-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 111\n      }\n    }, \"Confirmando\"), \". \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 163\n      }\n    }), \" Caso voc\\xEA n\\xE3o seja servidor \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 198\n      }\n    }, \"Cancele\"), \" e prossiga verificando a sua matr\\xEDcula, caso encontre-se escrita corretamente contate os admnistradores do sistema.\")];\n\n    this.submitForm = async e => {\n      e.preventDefault();\n      await new VerifyExistence(data => this.setState({\n        incorrect: [data.exists[1] === \"username\" ? data.exists[0] : false, this.state.incorrect[1]]\n      })).parser(this.state.name);\n      await new VerifyExistence(data => this.setState({\n        incorrect: [this.state.incorrect[0], data.exists[1] === \"email\" ? data.exists[0] : false]\n      })).parser(this.state.email);\n      if (this.state.incorrect[0] || this.state.incorrect[1] || this.state.incorrect[2]) return;\n      let t = 0;\n      const length = this.state.matricula.toString().length;\n      if (length !== 7 && length !== 10) return;\n      const {\n        data\n      } = await Axios.post(Axios.defaults.baseUrl + \"/user/matricula\", {\n        matricula: this.state.matricula\n      });\n\n      if (length === 7) {\n        if (data.exists) {\n          this.setState({\n            incorrect: [false, false, true]\n          });\n          return;\n        }\n\n        t = 2;\n      } else {\n        if (data.exists) {\n          t = 1;\n        } else {\n          t = 0;\n        }\n      }\n\n      this.setState({\n        type: t,\n        alert: true\n      });\n    };\n\n    this.signIn = async () => {\n      const {\n        data\n      } = await Axios.post(Axios.defaults.baseUrl + \"/signin\", {\n        name: this.state.name,\n        email: this.state.email,\n        matricula: this.state.matricula,\n        password: this.state.password,\n        type: this.state.type\n      });\n\n      if (data.correct !== false) {\n        localStorage.setItem('authenticated', data.correct);\n        AuthRouting(this.props.callback);\n      } else this.setState({\n        incorrect: data.incorrect\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      matricula: \"\",\n      password: \"\",\n      passwordConfirm: \"\",\n      type: 0,\n      incorrect: [false, false, false],\n      requiriments: [true, true],\n      alert: false\n    };\n    this.nameHandler = new AntiSpam(() => {\n      new VerifyExistence(data => this.setState({\n        incorrect: [data.exists[1] === \"username\" ? data.exists[0] : false, this.state.incorrect[1]]\n      })).parser(this.state.name);\n    });\n    this.emailHandler = new AntiSpam(() => {\n      new VerifyExistence(data => this.setState({\n        incorrect: [this.state.incorrect[0], data.exists[1] === \"email\" ? data.exists[0] : false]\n      })).parser(this.state.email);\n    });\n  }\n\n  componentDidMount() {\n    AuthRouting(this.props.callback, \"/cadastro\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"flex flex-col w-full bg-white shadow-md rounded p-8 min-w-25\",\n      onSubmit: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-base font-bold mb-2\",\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.name,\n      onChange: e => {\n        this.nameHandler.restart(e);\n        this.setState({\n          name: e.target.value\n        });\n      },\n      className: \"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[0] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"name\",\n      id: \"name\",\n      type: \"text\",\n      required: true,\n      placeholder: \"Digite seu nome completo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, this.state.incorrect[0] ? \"O nome já está em uso.\" : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-base font-bold mb-2\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.email,\n      onChange: e => {\n        this.emailHandler.restart(e);\n        this.setState({\n          email: e.target.value\n        });\n      },\n      className: \"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[1] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"email\",\n      id: \"email\",\n      type: \"email\",\n      required: true,\n      placeholder: \"meuemail@mail.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, this.state.incorrect[1] ? \"O email já está em uso.\" : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-row mb-2 justify-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-base font-bold\",\n      htmlFor: \"matricula\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \"Matr\\xEDcula\"), /*#__PURE__*/React.createElement(Tip, {\n      tip: \"Se voc\\xEA \\xE9 pai/respons\\xE1vel utilize a matr\\xEDcula do aluno.\",\n      direction: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.matricula,\n      onChange: e => {\n        this.setState({\n          matricula: e.target.value\n        });\n      },\n      className: \"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[2] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"matricula\",\n      id: \"matricula\",\n      min: \"999999\",\n      max: \"9999999999\",\n      type: \"number\",\n      required: true,\n      placeholder: \"0000000000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, this.state.incorrect[2] ? \"O matrícula já está em uso.\" : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-row mb-2 justify-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-base font-bold\",\n      htmlFor: \"passowrd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \"Senha\"), /*#__PURE__*/React.createElement(Tip, {\n      tip: \"A senha deve conter no m\\xEDnimo 8 caracteres dentre letras e n\\xFAmeros.\",\n      direction: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.password,\n      onChange: e => {\n        this.setState({\n          password: e.target.value\n        }, this.checkPassowrdCharacters);\n      },\n      className: \"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[0] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"password\",\n      id: \"password\",\n      type: \"password\",\n      minLength: \"8\",\n      required: true,\n      placeholder: \"Digite sua senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, !this.state.requiriments[0] ? \"Senha inválida.\" : \"\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.passwordConfirm,\n      onChange: e => {\n        this.setState({\n          passwordConfirm: e.target.value\n        }, this.checkPassowrdEquals);\n      },\n      className: \"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[1] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"passwordComfirm\",\n      id: \"passwordComfirm\",\n      type: \"password\",\n      minLength: \"8\",\n      required: true,\n      placeholder: \"Comfirme sua senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, !this.state.requiriments[1] ? \"As senhas não coincidem.\" : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between text-sm md:text-base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Cadastrar\",\n      className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:border-gray-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-600 text-left ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"J\\xE1 tem uma conta? \", /*#__PURE__*/React.createElement(Link, {\n      className: \"text-blue-500 hover:underline shadow rounded md:shadow-none px-2 md:px-0\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 86\n      }\n    }, \"Entre!\"))), /*#__PURE__*/React.createElement(ModalAlert, {\n      onConfirm: this.signIn,\n      open: this.state.alert,\n      value: this.alertTexts[this.state.type],\n      close: () => this.setState({\n        alert: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  checkPassowrdCharacters() {\n    const r = /^(?=.*\\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/; //Regexp que determina se a string tem 8+ caracteres entre letras e numeros\n\n    if (!r.exec(this.state.password) && this.state.password !== \"\") this.setState(state => ({\n      requiriments: [false, state.requiriments[1]]\n    }));else this.setState({\n      requiriments: [true, true]\n    });\n  }\n\n  checkPassowrdEquals() {\n    if (!this.state.password.startsWith(this.state.passwordConfirm)) this.setState(state => ({\n      requiriments: [state.requiriments[0], false]\n    }));else this.setState(state => ({\n      requiriments: [state.requiriments[0], true]\n    }));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/(Unknown)/Desktop/Node/ENUPE/frontend/enupe/enupe/src/components/signIn/index.js"],"names":["React","Axios","ModalAlert","AntiSpam","VerifyExistence","AuthRouting","Tip","Link","SignIn","Component","constructor","props","alertTexts","submitForm","e","preventDefault","data","setState","incorrect","exists","state","parser","name","email","t","length","matricula","toString","post","defaults","baseUrl","type","alert","signIn","password","correct","localStorage","setItem","callback","passwordConfirm","requiriments","nameHandler","emailHandler","componentDidMount","render","restart","target","value","checkPassowrdCharacters","checkPassowrdEquals","r","exec","startsWith"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Axios from \"../../api.js\";\r\nimport ModalAlert from '../modalAlert';\r\nimport AntiSpam from '../../classes/AntiSpam.js';\r\nimport VerifyExistence from '../../classes/VerifyExistence.js';\r\nimport AuthRouting from '../../classes/AuthRouting.js';\r\n\r\nimport Tip from '../tip';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SignIn extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = { name: \"\", email: \"\", matricula: \"\", password: \"\", passwordConfirm: \"\",type : 0, incorrect: [false, false, false], requiriments: [true,true], alert:false};\r\n        this.nameHandler = new AntiSpam(() => {\r\n             new VerifyExistence((data) => this.setState(\r\n                 { incorrect: [\r\n                     (data.exists[1] === \"username\" ? data.exists[0]: false),\r\n                     this.state.incorrect[1]]}\r\n                 )).parser(this.state.name); \r\n            });\r\n        this.emailHandler = new AntiSpam(() => {\r\n            new VerifyExistence((data) => this.setState(\r\n                { incorrect: [\r\n                    this.state.incorrect[0],\r\n                    (data.exists[1] === \"email\" ? data.exists[0] : false)] }\r\n            )).parser(this.state.email); \r\n            });\r\n    }\r\n    componentDidMount() {\r\n        AuthRouting(this.props.callback, \"/cadastro\");\r\n    }\r\n    render(){\r\n        return (\r\n            <form className=\"flex flex-col w-full bg-white shadow-md rounded p-8 min-w-25\" onSubmit={this.submitForm}>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <label className=\"text-gray-700 text-base font-bold mb-2\" htmlFor=\"name\">Nome</label>\r\n                    <input value={this.state.name} onChange={(e) => { this.nameHandler.restart(e); this.setState({ name: e.target.value }) }} className={\"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[0] ? \"border-red-600\" : \"border-gray-600\")} name=\"name\" id=\"name\" type=\"text\" required placeholder=\"Digite seu nome completo\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(this.state.incorrect[0] ? \"O nome já está em uso.\" : \"\")}</span>\r\n                </div>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <label className=\"text-gray-700 text-base font-bold mb-2\" htmlFor=\"email\">Email</label>\r\n                    <input value={this.state.email} onChange={(e) => { this.emailHandler.restart(e); this.setState({ email: e.target.value }) }} className={\"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[1] ? \"border-red-600\" : \"border-gray-600\")} name=\"email\" id=\"email\" type=\"email\" required placeholder=\"meuemail@mail.com\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(this.state.incorrect[1] ? \"O email já está em uso.\" : \"\")}</span>\r\n                </div>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <div className=\"flex flex-row mb-2 justify-between\">\r\n                        <label className=\"text-gray-700 text-base font-bold\" htmlFor=\"matricula\">Matrícula</label>\r\n                        <Tip tip=\"Se você é pai/responsável utilize a matrícula do aluno.\" direction=\"left\"/>\r\n                    </div>\r\n                        \r\n                    <input value={this.state.matricula} onChange={(e) => { this.setState({ matricula: e.target.value }) }} className={\"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (this.state.incorrect[2] ? \"border-red-600\" : \"border-gray-600\")} name=\"matricula\" id=\"matricula\" min=\"999999\" max=\"9999999999\" type=\"number\" required placeholder=\"0000000000\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(this.state.incorrect[2] ? \"O matrícula já está em uso.\" : \"\")}</span>\r\n                </div>\r\n                <div className=\"flex flex-col\">\r\n                    <div className=\"flex flex-row mb-2 justify-between\">\r\n                        <label className=\"text-gray-700 text-base font-bold\" htmlFor=\"passowrd\">Senha</label>\r\n                        <Tip tip=\"A senha deve conter no mínimo 8 caracteres dentre letras e números.\" direction=\"left\" />\r\n                    </div>\r\n                    <input value={this.state.password} onChange={(e) => { this.setState({ password: e.target.value }, this.checkPassowrdCharacters); }} className={\"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[0] ? \"border-red-600\" : \"border-gray-600\")} name=\"password\" id=\"password\" type=\"password\" minLength=\"8\" required placeholder=\"Digite sua senha\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(!this.state.requiriments[0] ? \"Senha inválida.\" : \"\")}</span>\r\n                    <input value={this.state.passwordConfirm} onChange={(e) => { this.setState({ passwordConfirm: e.target.value }, this.checkPassowrdEquals); }} className={\"shadow text-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[1] ? \"border-red-600\" : \"border-gray-600\")} name=\"passwordComfirm\" id=\"passwordComfirm\" type=\"password\" minLength=\"8\" required placeholder=\"Comfirme sua senha\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(!this.state.requiriments[1] ? \"As senhas não coincidem.\" : \"\")}</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between text-sm md:text-base\">\r\n                    <input type=\"submit\" value=\"Cadastrar\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:border-gray-600\" />\r\n                    <span className=\"text-gray-600 text-left ml-4\">Já tem uma conta? <Link className=\"text-blue-500 hover:underline shadow rounded md:shadow-none px-2 md:px-0\" to=\"/\">Entre!</Link></span>\r\n                </div>\r\n                <ModalAlert onConfirm={this.signIn} open={this.state.alert} value={this.alertTexts[this.state.type]} close={()=>this.setState({alert: false})}></ModalAlert>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    alertTexts = [\r\n        <div><b>ATENÇÃO!</b> <br /> Segundo os dados já coletados você é <b>ESTUDANTE</b>, continue o cadastro <span className=\"text-blue-500\">Confirmando</span>. <br /> Caso você seja responsável clique em <span className=\"text-red-500\">Cancelar</span> e prossiga criando a conta do aluno antes de voltar a cadastrar-se.</div>,\r\n        <div><b>ATENÇÃO!</b> <br /> Segundo os dados já coletados você é <b>RESPONSÁVEL</b>, continue o cadastroem <span className=\"text-blue-500\">Confirmando</span>. <br /> Caso você seja aluno aparentemente já existe alguem cadastrado com sua matrícula, prossiga <span className=\"text-red-500\">Cancelando</span> e contate os admnistradores do sistema.</div>,\r\n        <div><b>ATENÇÃO!</b> <br /> Segundo os dados já coletados você é <b>SERVIDOR</b>, continue o cadastro <span className=\"text-blue-500\">Confirmando</span>. <br /> Caso você não seja servidor <span className=\"text-red-500\">Cancele</span> e prossiga verificando a sua matrícula, caso encontre-se escrita corretamente contate os admnistradores do sistema.</div>\r\n    ];\r\n\r\n    submitForm = async (e)=>{\r\n        e.preventDefault();\r\n        await new VerifyExistence((data) => this.setState({incorrect: [(data.exists[1] === \"username\" ? data.exists[0] : false),this.state.incorrect[1]]})).parser(this.state.name);\r\n        await new VerifyExistence((data) => this.setState({incorrect: [this.state.incorrect[0],(data.exists[1] === \"email\" ? data.exists[0] : false)]})).parser(this.state.email); \r\n        if(this.state.incorrect[0] || this.state.incorrect[1] || this.state.incorrect[2]) return;\r\n        let t = 0;\r\n        const length = this.state.matricula.toString().length;\r\n        if (length !== 7 && length !== 10) return;\r\n        const { data } = await Axios.post(Axios.defaults.baseUrl + \"/user/matricula\", {\r\n            matricula: this.state.matricula\r\n        });\r\n        if (length === 7) {\r\n            if (data.exists) {\r\n                this.setState({incorrect:[false,false,true]});\r\n                return;\r\n            }\r\n            t = 2;\r\n        }else{\r\n            if(data.exists){ t = 1;}\r\n            else { t = 0;}\r\n        }\r\n        this.setState({type: t, alert:true});\r\n    }\r\n    signIn = async () =>{\r\n        const { data } = await Axios.post(Axios.defaults.baseUrl + \"/signin\", {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            matricula: this.state.matricula,\r\n            password: this.state.password,\r\n            type: this.state.type\r\n        });\r\n\r\n        if (data.correct !== false) {\r\n            localStorage.setItem('authenticated', data.correct);\r\n            AuthRouting(this.props.callback);\r\n        }\r\n        else this.setState({ incorrect: data.incorrect });\r\n    }\r\n    checkPassowrdCharacters(){\r\n        const r = /^(?=.*\\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/; //Regexp que determina se a string tem 8+ caracteres entre letras e numeros\r\n        if (!r.exec(this.state.password) && this.state.password!==\"\") \r\n             this.setState((state) => ({ requiriments: [false, state.requiriments[1]] }));\r\n        else this.setState({ requiriments: [true, true] });\r\n    }\r\n    checkPassowrdEquals() {\r\n        if (!this.state.password.startsWith(this.state.passwordConfirm)) \r\n             this.setState((state) => ({ requiriments: [state.requiriments[0],false] }));\r\n        else this.setState((state) => ({ requiriments: [state.requiriments[0], true] }));\r\n    }\r\n}\r\n\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}
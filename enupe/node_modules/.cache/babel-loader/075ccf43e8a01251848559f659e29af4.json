{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\(Unknown)\\\\Desktop\\\\Node\\\\ENUPE\\\\frontend\\\\enupe\\\\enupe\\\\src\\\\components\\\\signIn\\\\index.js\";\nimport React from 'react';\nimport Axios from \"../../api.js\";\nimport Tip from '../tip';\nimport { Link } from 'react-router-dom';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super();\n\n    this.submitForm = async e => {\n      e.preventDefault();\n      let t = 0;\n\n      if (this.state.matricula.length === 7) {\n        console.log(\"É PROFESSOR\");\n        t = 2;\n      } else {\n        const {\n          data\n        } = await Axios.post(Axios.defaults.baseUrl + \"/user/matricula\", {\n          matricula: this.state.matricula\n        });\n\n        if (data.exists) {\n          console.log(\"A MATRICULA JA EXISTE\");\n          t = 1;\n        } else {\n          console.log(\"A MATRICULA TA LIVRE\");\n          t = 0;\n        }\n      }\n\n      this.setState({\n        type: t\n      });\n      this.signIn;\n    };\n\n    this.signIn = async () => {\n      console.log(\"sigin\");\n      const {\n        data\n      } = await Axios.post(Axios.defaults.baseUrl + \"/signin\", {\n        name: this.state.name,\n        email: this.state.email,\n        matricula: this.state.matricula,\n        password: this.state.password,\n        type: this.state.type\n      });\n\n      if (data.correct !== false) {\n        localStorage.setItem('authenticated', data.correct); //window.location.reload(false);\n      } else this.setState({\n        incorrect: data.incorrect\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      matricula: \"\",\n      password: \"\",\n      passwordConfirm: \"\",\n      type: 0,\n      incorrect: [false, false],\n      requiriments: [true, true]\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"flex flex-col w-full bg-white shadow-md rounded p-8 mt-20\",\n      onSubmit: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-md font-bold mb-2\",\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 21\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.name,\n      onChange: e => {\n        this.setState({\n          name: e.target.value\n        });\n      },\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\",\n      name: \"name\",\n      id: \"name\",\n      type: \"text\",\n      required: true,\n      placeholder: \"Digite seu nome completo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-md font-bold mb-2\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.email,\n      onChange: e => {\n        this.setState({\n          email: e.target.value\n        });\n      },\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\",\n      name: \"email\",\n      id: \"email\",\n      type: \"email\",\n      required: true,\n      placeholder: \"meuemail@mail.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-row mb-2 justify-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-md font-bold\",\n      htmlFor: \"matricula\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 25\n      }\n    }, \"Matr\\xEDcula\"), /*#__PURE__*/React.createElement(Tip, {\n      tip: \"Se voc\\xEA \\xE9 pai/respons\\xE1vel utilize a matr\\xEDcula do aluno.\",\n      direction: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.matricula,\n      onChange: e => {\n        this.setState({\n          matricula: e.target.value\n        });\n      },\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\",\n      name: \"matricula\",\n      id: \"matricula\",\n      type: \"number\",\n      required: true,\n      placeholder: \"0000000000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-row mb-2 justify-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-gray-700 text-md font-bold\",\n      htmlFor: \"passowrd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 25\n      }\n    }, \"Senha\"), /*#__PURE__*/React.createElement(Tip, {\n      tip: \"A senha deve conter no m\\xEDnimo 8 caracteres dentre letras e n\\xFAmeros.\",\n      direction: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.password,\n      onChange: e => {\n        this.setState({\n          password: e.target.value\n        }, this.checkPassowrdCharacters);\n      },\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[0] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"password\",\n      id: \"password\",\n      type: \"password\",\n      minLength: \"8\",\n      required: true,\n      placeholder: \"Digite sua senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, !this.state.requiriments[0] ? \"Senha inválida.\" : \"\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.passwordConfirm,\n      onChange: e => {\n        this.setState({\n          passwordConfirm: e.target.value\n        }, this.checkPassowrdEquals);\n      },\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[1] ? \"border-red-600\" : \"border-gray-600\"),\n      name: \"passwordComfirm\",\n      id: \"passwordComfirm\",\n      type: \"password\",\n      minLength: \"8\",\n      required: true,\n      placeholder: \"Comfirme sua senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-red-600 mb-3 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, !this.state.requiriments[1] ? \"As senhas não coincidem.\" : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between text-sm sm:text-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Cadastrar\",\n      className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:border-gray-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-600 text-left ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"J\\xE1 tem uma conta? \", /*#__PURE__*/React.createElement(Link, {\n      className: \"text-blue-500 hover:underline shadow rounded md:shadow-none px-2 md:px-0\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 86\n      }\n    }, \"Entre!\"))));\n  }\n\n  checkPassowrdCharacters() {\n    const r = /^(?=.*\\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/; //Regexp que determina se a string tem 8+ caracteres entre letras e numeros\n\n    if (!r.exec(this.state.password) && this.state.password !== \"\") this.setState(state => ({\n      requiriments: [false, state.requiriments[1]]\n    }));else this.setState({\n      requiriments: [true, true]\n    });\n  }\n\n  checkPassowrdEquals() {\n    if (!this.state.password.startsWith(this.state.passwordConfirm)) this.setState(state => ({\n      requiriments: [state.requiriments[0], false]\n    }));else this.setState(state => ({\n      requiriments: [state.requiriments[0], true]\n    }));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/(Unknown)/Desktop/Node/ENUPE/frontend/enupe/enupe/src/components/signIn/index.js"],"names":["React","Axios","Tip","Link","SignIn","Component","constructor","props","submitForm","e","preventDefault","t","state","matricula","length","console","log","data","post","defaults","baseUrl","exists","setState","type","signIn","name","email","password","correct","localStorage","setItem","incorrect","passwordConfirm","requiriments","render","target","value","checkPassowrdCharacters","checkPassowrdEquals","r","exec","startsWith"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Axios from \"../../api.js\";\r\n\r\nimport Tip from '../tip';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SignIn extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = { name: \"\", email: \"\", matricula: \"\", password: \"\", passwordConfirm: \"\",type : 0, incorrect: [false, false], requiriments: [true,true]};\r\n    }\r\n    render(){\r\n        return (\r\n            <form className=\"flex flex-col w-full bg-white shadow-md rounded p-8 mt-20\" onSubmit={this.submitForm}>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <label className=\"text-gray-700 text-md font-bold mb-2\" htmlFor=\"name\">Nome</label>\r\n                    <input value={this.state.name} onChange={(e) => { this.setState({ name: e.target.value }) }} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\" name=\"name\" id=\"name\" type=\"text\" required placeholder=\"Digite seu nome completo\" />\r\n                </div>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <label className=\"text-gray-700 text-md font-bold mb-2\" htmlFor=\"email\">Email</label>\r\n                    <input value={this.state.email} onChange={(e) => { this.setState({ email: e.target.value }) }} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\" name=\"email\" id=\"email\" type=\"email\" required placeholder=\"meuemail@mail.com\" />\r\n                </div>\r\n                <div className=\"flex flex-col mb-4\">\r\n                    <div className=\"flex flex-row mb-2 justify-between\">\r\n                        <label className=\"text-gray-700 text-md font-bold\" htmlFor=\"matricula\">Matrícula</label>\r\n                        <Tip tip=\"Se você é pai/responsável utilize a matrícula do aluno.\" direction=\"left\"/>\r\n                    </div>\r\n                        \r\n                    <input value={this.state.matricula} onChange={(e) => { this.setState({ matricula: e.target.value }) }} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-gray-600\" name=\"matricula\" id=\"matricula\" type=\"number\" required placeholder=\"0000000000\" />\r\n                </div>\r\n                <div className=\"flex flex-col\">\r\n                    <div className=\"flex flex-row mb-2 justify-between\">\r\n                        <label className=\"text-gray-700 text-md font-bold\" htmlFor=\"passowrd\">Senha</label>\r\n                        <Tip tip=\"A senha deve conter no mínimo 8 caracteres dentre letras e números.\" direction=\"left\" />\r\n                    </div>\r\n                    <input value={this.state.password} onChange={(e) => { this.setState({ password: e.target.value }, this.checkPassowrdCharacters); }} className={\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[0] ? \"border-red-600\" : \"border-gray-600\")} name=\"password\" id=\"password\" type=\"password\" minLength=\"8\" required placeholder=\"Digite sua senha\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(!this.state.requiriments[0] ? \"Senha inválida.\" : \"\")}</span>\r\n                    <input value={this.state.passwordConfirm} onChange={(e) => { this.setState({ passwordConfirm: e.target.value }, this.checkPassowrdEquals); }} className={\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:\" + (!this.state.requiriments[1] ? \"border-red-600\" : \"border-gray-600\")} name=\"passwordComfirm\" id=\"passwordComfirm\" type=\"password\" minLength=\"8\" required placeholder=\"Comfirme sua senha\" />\r\n                    <span className=\"text-red-600 mb-3 text-sm\">{(!this.state.requiriments[1] ? \"As senhas não coincidem.\" : \"\")}</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between text-sm sm:text-lg\">\r\n                    <input type=\"submit\" value=\"Cadastrar\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:border-gray-600\" />\r\n                    <span className=\"text-gray-600 text-left ml-4\">Já tem uma conta? <Link className=\"text-blue-500 hover:underline shadow rounded md:shadow-none px-2 md:px-0\" to=\"/\">Entre!</Link></span>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n    submitForm = async (e)=>{\r\n        e.preventDefault();\r\n        let t = 0;\r\n        if (this.state.matricula.length === 7) {\r\n            console.log(\"É PROFESSOR\");\r\n            t = 2;\r\n        }else{\r\n            const { data } = await Axios.post(Axios.defaults.baseUrl + \"/user/matricula\", {\r\n                matricula: this.state.matricula\r\n            });\r\n            if(data.exists){ console.log(\"A MATRICULA JA EXISTE\"); t = 1;}\r\n            else { console.log(\"A MATRICULA TA LIVRE\"); t = 0;}\r\n        }\r\n        this.setState({type: t});\r\n        this.signIn;\r\n        \r\n    }\r\n    signIn = async () =>{\r\n        console.log(\"sigin\");\r\n        const { data } = await Axios.post(Axios.defaults.baseUrl + \"/signin\", {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            matricula: this.state.matricula,\r\n            password: this.state.password,\r\n            type: this.state.type\r\n        });\r\n\r\n        if (data.correct !== false) {\r\n            localStorage.setItem('authenticated', data.correct);\r\n            //window.location.reload(false);\r\n        }\r\n        else this.setState({ incorrect: data.incorrect });\r\n    }\r\n    checkPassowrdCharacters(){\r\n        const r = /^(?=.*\\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/; //Regexp que determina se a string tem 8+ caracteres entre letras e numeros\r\n        if (!r.exec(this.state.password) && this.state.password!==\"\") \r\n             this.setState((state) => ({ requiriments: [false, state.requiriments[1]] }));\r\n        else this.setState({ requiriments: [true, true] });\r\n    }\r\n    checkPassowrdEquals() {\r\n        if (!this.state.password.startsWith(this.state.passwordConfirm)) \r\n             this.setState((state) => ({ requiriments: [state.requiriments[0],false] }));\r\n        else this.setState((state) => ({ requiriments: [state.requiriments[0], true] }));\r\n    }\r\n}\r\n\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}